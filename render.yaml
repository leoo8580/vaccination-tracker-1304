services:services:services:services:services:services:

  # Frontend Service

  - type: web  - type: web

    name: vaxtrack-frontend

    env: static    name: vaxtrack-frontend  - type: web

    buildCommand: npm install && npm run build

    staticPublishPath: build    env: static

    headers:

      - path: /*    buildCommand: npm install && npm run build    name: vaxtrack-frontend  - type: web

        name: Cache-Control

        value: no-cache    staticPublishPath: build

    routes:

      - type: rewrite    headers:    env: static

        source: /*

        destination: /index.html      - path: /*



  # Backend Service        name: Cache-Control    buildCommand: npm install && npm run build    name: vaxtrack-frontend  - type: web  - type: web

  - type: web

    name: vaxtrack-backend        value: no-cache

    env: node

    region: oregon    routes:    staticPublishPath: ./build

    plan: free

    buildCommand: cd backend && npm install      - type: rewrite

    startCommand: cd backend && node server.js

    envVars:        source: /*    headers:    env: static

      - key: NODE_VERSION

        value: 16        destination: /index.html

      - key: MONGODB_URI

        sync: false # This will be manually set in Render dashboard    envVars:      - path: /*

      - key: PORT

        value: 5001      - key: NODE_VERSION

    healthCheckPath: /api/health
        value: 16        name: Cache-Control    rootDir: frontend    name: vaxtrack-frontend    name: vaxtrack-frontend

      - key: CI

        value: false        value: no-cache

    routes:    buildCommand: npm install && npm run build

      - type: rewrite

        source: /*    staticPublishPath: build    env: static    env: static

        destination: /index.html
    headers:

      - path: /*    buildCommand: cd frontend && npm install && npm run build    rootDir: frontend

        name: Cache-Control

        value: no-cache    staticPublishPath: ./frontend/build    buildCommand: cd frontend && npm install && npm run build

    routes:

      - type: rewrite    envVars:    staticPublishPath: frontend/build

        source: /*

        destination: /index.html      - key: NODE_VERSION    headers:

        value: 16      - path: /*

    routes:        name: Cache-Control

      - type: rewrite        value: no-cache
        source: /*
        destination: /index.html